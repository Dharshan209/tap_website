import{u as e,j as s}from"./index-DSv-p_Z0.js";import{u as a,b as i,r as n,L as r}from"./vendor-BHX-4vy9.js";import{G as o}from"./GoogleSignIn-rQHv29KF.js";import{m as l,z as t,n as m,ac as d,au as u,V as c}from"./ui-DmUwtTto.js";const h=()=>{var h,g;const b=a(),p=i(),{login:N,user:x,loading:v,error:w,clearError:f}=e(),[j,D]=n.useState(""),[E,P]=n.useState(""),[y,L]=n.useState(!1),[V,U]=n.useState(""),[_,S]=n.useState(!1),[k,C]=n.useState(""),z=(null==(g=null==(h=p.state)?void 0:h.from)?void 0:g.pathname)||"/";n.useEffect((()=>{x&&!v&&b(z,{replace:!0})}),[x,v,b,z]),n.useEffect((()=>{w&&U(w)}),[w]),n.useEffect((()=>()=>{f()}),[f]);return v?s.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxDEV("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:119,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:118,columnNumber:7},void 0):s.jsxDEV("div",{className:"min-h-[80vh] flex flex-col items-center justify-center py-12 px-4",children:s.jsxDEV(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:[s.jsxDEV("div",{className:"text-center mb-8",children:[s.jsxDEV(r,{to:"/",className:"inline-block",children:s.jsxDEV("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TAP"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:135,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:134,columnNumber:11},void 0),s.jsxDEV("h1",{className:"text-2xl font-bold mt-4",children:"Sign In to Your Account"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:139,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Enter your credentials to access your account"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:140,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:133,columnNumber:9},void 0),k&&s.jsxDEV("div",{className:"mb-6 p-3 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 rounded-md flex items-center text-sm",children:[s.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:149,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:148,columnNumber:13},void 0),s.jsxDEV("p",{children:k},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:151,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:147,columnNumber:11},void 0),V&&s.jsxDEV("div",{className:"mb-6 p-3 bg-destructive/10 text-destructive rounded-md flex items-center text-sm",children:[s.jsxDEV(t,{className:"h-4 w-4 mr-2 flex-shrink-0"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:158,columnNumber:13},void 0),s.jsxDEV("p",{children:V},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:159,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:157,columnNumber:11},void 0),s.jsxDEV("form",{onSubmit:async e=>{e.preventDefault();try{if(U(""),S(!0),!j.trim())return U("Email is required"),void S(!1);if(!E)return U("Password is required"),void S(!1);await N(j,E),C("Login successful! Redirecting...")}catch(s){let e="Failed to log in. Please try again.";"auth/user-not-found"===s.code||"auth/wrong-password"===s.code?e="Invalid email or password":"auth/too-many-requests"===s.code?e="Too many failed login attempts. Please try again later.":"auth/invalid-credential"===s.code&&(e="Invalid login credentials. Please check your email and password."),U(e)}finally{S(!1)}},className:"space-y-6",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email Address"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:167,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsxDEV(m,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:172,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:171,columnNumber:15},void 0),s.jsxDEV("input",{id:"email",type:"email",value:j,onChange:e=>D(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 transition-colors bg-background",placeholder:"Enter your email",autoComplete:"email"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:174,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:170,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:166,columnNumber:11},void 0),s.jsxDEV("div",{children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[s.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:189,columnNumber:15},void 0),s.jsxDEV(r,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Forgot password?"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:192,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:188,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsxDEV(d,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:198,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:197,columnNumber:15},void 0),s.jsxDEV("input",{id:"password",type:y?"text":"password",value:E,onChange:e=>P(e.target.value),className:"w-full pl-10 pr-12 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 transition-colors bg-background",placeholder:"Enter your password",autoComplete:"current-password"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:200,columnNumber:15},void 0),s.jsxDEV("button",{type:"button",onClick:()=>L(!y),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-muted-foreground hover:text-foreground",children:y?s.jsxDEV(u,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:215,columnNumber:19},void 0):s.jsxDEV(c,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:217,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:209,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:196,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:187,columnNumber:11},void 0),s.jsxDEV("button",{type:"submit",disabled:_,className:"w-full py-2 px-4 bg-primary text-primary-foreground rounded-md font-medium shadow hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50 disabled:pointer-events-none transition-colors",children:_?s.jsxDEV("div",{className:"flex items-center justify-center",children:[s.jsxDEV("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-foreground",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:232,columnNumber:19},void 0),s.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:233,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:231,columnNumber:17},void 0),s.jsxDEV("span",{children:"Signing in..."},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:235,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:230,columnNumber:15},void 0):"Sign In"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:224,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:164,columnNumber:9},void 0),s.jsxDEV("div",{className:"my-6 flex items-center",children:[s.jsxDEV("div",{className:"flex-grow border-t border-border"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:245,columnNumber:11},void 0),s.jsxDEV("span",{className:"px-4 text-sm text-muted-foreground",children:"OR"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:246,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex-grow border-t border-border"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:247,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:244,columnNumber:9},void 0),s.jsxDEV("div",{className:"mb-6",children:s.jsxDEV(o,{onSuccess:e=>{C("Google sign-in successful! Redirecting..."),setTimeout((()=>{b(z,{replace:!0})}),1e3)},onError:e=>{let s="Google sign-in failed. Please try again.";"auth/popup-closed-by-user"===e.code?s="Sign-in was cancelled. Please try again.":"auth/popup-blocked"===e.code&&(s="Sign-in popup was blocked by your browser. Please allow popups for this site."),U(s)},buttonText:"Continue with Google"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:252,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:251,columnNumber:9},void 0),s.jsxDEV("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsxDEV(r,{to:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:262,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:260,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:126,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/LoginPage.jsx",lineNumber:125,columnNumber:5},void 0)};export{h as default};
