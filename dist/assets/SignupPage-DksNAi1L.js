import{u as e,j as s}from"./index-DSv-p_Z0.js";import{u as a,r as i,L as n}from"./vendor-BHX-4vy9.js";import{G as r}from"./GoogleSignIn-rQHv29KF.js";import{m as l,J as o,z as t,U as m,n as d,ac as u,au as c,V as h}from"./ui-DmUwtTto.js";const p=()=>{const p=a(),{signup:g,user:b,loading:N,error:x,clearError:v}=e(),[w,f]=i.useState(""),[j,D]=i.useState(""),[P,S]=i.useState(""),[E,U]=i.useState(""),[V,_]=i.useState(!1),[y,k]=i.useState(""),[C,A]=i.useState(!1),[L,F]=i.useState(""),[T,q]=i.useState({minLength:!1,hasLetter:!1,hasNumber:!1});i.useEffect((()=>{b&&!N&&p("/",{replace:!0})}),[b,N,p]),i.useEffect((()=>{x&&k(x)}),[x]),i.useEffect((()=>()=>{v()}),[v]),i.useEffect((()=>{q({minLength:P.length>=8,hasLetter:/[a-zA-Z]/.test(P),hasNumber:/\d/.test(P)})}),[P]);return N?s.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxDEV("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:153,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:152,columnNumber:7},void 0):s.jsxDEV("div",{className:"min-h-[80vh] flex flex-col items-center justify-center py-12 px-4",children:s.jsxDEV(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:[s.jsxDEV("div",{className:"text-center mb-8",children:[s.jsxDEV(n,{to:"/",className:"inline-block",children:s.jsxDEV("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TAP"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:169,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:168,columnNumber:11},void 0),s.jsxDEV("h1",{className:"text-2xl font-bold mt-4",children:"Create Your Account"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:173,columnNumber:11},void 0),s.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Join TAP to create custom storybooks from your child's artwork"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:167,columnNumber:9},void 0),L&&s.jsxDEV("div",{className:"mb-6 p-3 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 rounded-md flex items-center text-sm",children:[s.jsxDEV(o,{className:"h-5 w-5 mr-2 flex-shrink-0"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:182,columnNumber:13},void 0),s.jsxDEV("p",{children:L},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:183,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:181,columnNumber:11},void 0),y&&s.jsxDEV("div",{className:"mb-6 p-3 bg-destructive/10 text-destructive rounded-md flex items-center text-sm",children:[s.jsxDEV(t,{className:"h-4 w-4 mr-2 flex-shrink-0"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:190,columnNumber:13},void 0),s.jsxDEV("p",{children:y},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:191,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:189,columnNumber:11},void 0),s.jsxDEV("div",{className:"mb-6",children:s.jsxDEV(r,{onSuccess:e=>{F("Google sign-in successful! Redirecting...")},onError:e=>{let s="Google sign-in failed. Please try again.";"auth/popup-closed-by-user"===e.code?s="Sign-in was cancelled. Please try again.":"auth/popup-blocked"===e.code&&(s="Sign-in popup was blocked by your browser. Please allow popups for this site."),k(s)},buttonText:"Continue with Google"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:197,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:196,columnNumber:9},void 0),s.jsxDEV("div",{className:"mb-6 flex items-center",children:[s.jsxDEV("div",{className:"flex-grow border-t border-border"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:206,columnNumber:11},void 0),s.jsxDEV("span",{className:"px-4 text-sm text-muted-foreground",children:"OR"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:207,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex-grow border-t border-border"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:208,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:205,columnNumber:9},void 0),s.jsxDEV("form",{onSubmit:async e=>{e.preventDefault();try{if(k(""),A(!0),!w.trim())return k("Name is required"),void A(!1);if(!j.trim())return k("Email is required"),void A(!1);if(!P)return k("Password is required"),void A(!1);if(P!==E)return k("Passwords do not match"),void A(!1);if(!T.minLength||!T.hasLetter||!T.hasNumber)return k("Password does not meet the requirements"),void A(!1);await g(j,P,w),F("Account created successfully! Please check your email for verification."),setTimeout((()=>{p("/")}),3e3)}catch(s){let e="Failed to create account. Please try again.";"auth/email-already-in-use"===s.code?e="This email is already in use. Please try another email or sign in.":"auth/invalid-email"===s.code?e="Invalid email address. Please check and try again.":"auth/weak-password"===s.code&&(e="Password is too weak. Please use a stronger password."),k(e)}finally{A(!1)}},className:"space-y-5",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Full Name"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:215,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsxDEV(m,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:220,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:219,columnNumber:15},void 0),s.jsxDEV("input",{id:"name",type:"text",value:w,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 transition-colors bg-background",placeholder:"Enter your full name",autoComplete:"name"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:222,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:218,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:214,columnNumber:11},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email Address"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:236,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsxDEV(d,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:241,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:240,columnNumber:15},void 0),s.jsxDEV("input",{id:"email",type:"email",value:j,onChange:e=>D(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 transition-colors bg-background",placeholder:"Enter your email",autoComplete:"email"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:243,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:239,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:235,columnNumber:11},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:257,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsxDEV(u,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:262,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:261,columnNumber:15},void 0),s.jsxDEV("input",{id:"password",type:V?"text":"password",value:P,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-12 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 transition-colors bg-background",placeholder:"Create a password",autoComplete:"new-password"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:264,columnNumber:15},void 0),s.jsxDEV("button",{type:"button",onClick:()=>_(!V),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-muted-foreground hover:text-foreground",children:V?s.jsxDEV(c,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:279,columnNumber:19},void 0):s.jsxDEV(h,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:281,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:273,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:260,columnNumber:13},void 0),P.length>0&&s.jsxDEV("div",{className:"mt-2 space-y-1",children:[s.jsxDEV("p",{className:"text-xs font-medium",children:"Password must have:"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:289,columnNumber:17},void 0),s.jsxDEV("div",{className:"text-xs flex items-center",children:[s.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 rounded-full "+(T.minLength?"bg-green-500":"bg-muted")},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:291,columnNumber:19},void 0),"At least 8 characters"]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:290,columnNumber:17},void 0),s.jsxDEV("div",{className:"text-xs flex items-center",children:[s.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 rounded-full "+(T.hasLetter?"bg-green-500":"bg-muted")},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:297,columnNumber:19},void 0),"At least one letter"]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:296,columnNumber:17},void 0),s.jsxDEV("div",{className:"text-xs flex items-center",children:[s.jsxDEV("span",{className:"inline-block w-4 h-4 mr-2 rounded-full "+(T.hasNumber?"bg-green-500":"bg-muted")},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:303,columnNumber:19},void 0),"At least one number"]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:302,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:288,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:256,columnNumber:11},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"Confirm Password"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:314,columnNumber:13},void 0),s.jsxDEV("div",{className:"relative",children:[s.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsxDEV(u,{className:"h-5 w-5 text-muted-foreground"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:319,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:318,columnNumber:15},void 0),s.jsxDEV("input",{id:"confirmPassword",type:V?"text":"password",value:E,onChange:e=>U(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 transition-colors bg-background",placeholder:"Confirm your password",autoComplete:"new-password"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:321,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:317,columnNumber:13},void 0),P&&E&&P!==E&&s.jsxDEV("p",{className:"mt-1 text-xs text-destructive",children:"Passwords do not match"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:313,columnNumber:11},void 0),s.jsxDEV("div",{className:"flex items-start",children:[s.jsxDEV("div",{className:"flex items-center h-5",children:s.jsxDEV("input",{id:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary border-input rounded focus:ring-2 focus:ring-primary/30"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:339,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:338,columnNumber:13},void 0),s.jsxDEV("div",{className:"ml-3 text-sm",children:s.jsxDEV("label",{htmlFor:"terms",className:"text-muted-foreground",children:["I agree to the ",s.jsxDEV(n,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:348,columnNumber:32},void 0)," and ",s.jsxDEV(n,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:348,columnNumber:119},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:347,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:346,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:337,columnNumber:11},void 0),s.jsxDEV("button",{type:"submit",disabled:C,className:"w-full py-2 px-4 bg-primary text-primary-foreground rounded-md font-medium shadow hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50 disabled:pointer-events-none transition-colors",children:C?s.jsxDEV("div",{className:"flex items-center justify-center",children:[s.jsxDEV("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-primary-foreground",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:362,columnNumber:19},void 0),s.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:363,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:361,columnNumber:17},void 0),s.jsxDEV("span",{children:"Creating Account..."},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:365,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:360,columnNumber:15},void 0):"Sign Up"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:354,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:212,columnNumber:9},void 0),s.jsxDEV("p",{className:"mt-8 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsxDEV(n,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:376,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:374,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:160,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/dharshansenthil/Downloads/tap_website-main/src/pages/SignupPage.jsx",lineNumber:159,columnNumber:5},void 0)};export{p as default};
